let pokemonRepository=function(){let t=new bootstrap.Modal($("#modal-container")[0]),n=null;$(t._element).on("hidden.bs.modal",function(){null!==n&&n.focus()});let e=[];function o(t){return l($(".modal-content")),$.ajax(t.detailsUrl,{dataType:"json"}).then(function(n){d($(".modal-content")),t.imgUrl=n.sprites.front_default,t.height=n.height,t.types=[],n.types.forEach(function(n){t.types.push(n.type.name)})}).catch(function(t){d($(".modal-content")),console.error(t)})}function a(t){if("object"==typeof t){let n=Object.keys(t);n.indexOf("name")>=0&&n.indexOf("detailsUrl")>=0&&e.push(t)}}function i(e,a){e.on("click",function(){!function(n){o(n).then(function(){let e=function(t){let n=$('<div class="pokemon-modal"></div>'),e=function(t){let n=$('<img class="pokemon-modal__img">');return n.attr("src",t.imgUrl).attr("alt",`Image of ${t.name}`),n}(t),o=$('<div class="pokemon-modal__types"></div>');t.types.forEach(function(t){let n=$("<span></span>");n.addClass(`pokemon-modal__types__type is-${t}`),n.text(t),o.append(n)});let a=$('<ul class="pokemon-modal__info"></ul>'),i=$("<li></li>");return i.text(`Height: ${t.height}`),a.append(i),n.append(e).append(o).append(a),n}(n);!function(n,e){let o=$(t._element).find(".modal-content"),a=o.find(".modal-title"),i=o.find(".modal-body");a.text(n),i.html(e)}(n.name,e)})}(a),n=this})}function l(t){let n=$('<div class="loading"></div>');t.append(n)}function d(t){let n=t.find(".loading");n.length&&n.remove()}return{loadList:function(){return l($(".header")),$.ajax("https://pokeapi.co/api/v2/pokemon/?limit=151",{dataType:"json"}).then(function(t){d($(".header")),t.results.forEach(function(t){var n;a({name:(n=t.name,n.charAt(0).toUpperCase()+n.slice(1)),detailsUrl:t.url})})}).catch(function(t){d($(".header")),console.error(t)})},loadDetails:o,getAll:function(){return e},add:a,addListItem:function(t){let n=$(".pokemon-list"),e=$("<li></li>"),o=$('<button type="button"></button>');e.addClass("list-group-item d-grid border-0"),o.text(t.name),o.addClass("btn btn-primary pokemon-list__btn"),o.attr("data-bs-target","#modal-container").attr("data-bs-toggle","modal"),i(o,t),e.append(o),n.append(e)},search:function(t){return e.filter(function(n){return n.name.toLowerCase()===t.toLowerCase()})}}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t)})});
